<!DOCTYPE html>
<html>
    <head>
        <title>Javascript Prectical</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    </head>
    <body>
        <div class="container bg-light my-5">
            <h1 class="display-4 pt-5">Practice 3</h1>
            <form class="mt-5">
                <div class="row">
                    <div class="col-md-4"></div>
                    <div class="col-md-4">
                            <label for="value" id="valuePractice3"></label>
                            <div>
                                <input type="text" class="mb-3 form-control" id="valPractice3" placeholder="Enter here">
                            </div>
                    </div>
                    <div class="col-md-4"></div>
                </div>
                <button class="mb-5 mr-3 btn bg-dark text-white btn-outline-success" onclick="return practice3()">Check by Promise</button>
            </form>
        </div>
    <script>
        function practice3(){
    //setTimeout(practice3Work,3000);
    practice3Work().then(
        (successMessage)=>{
            //alert(successMessage.message);
            //console.log(successMessage.status);
            document.getElementById("valuePractice3").innerHTML=successMessage.message;
        },
        (errorMessage)=>{
            //alert(errorMessage.message);
            //console.log(errorMessage.status);
            document.getElementById("valuePractice3").innerHTML=errorMessage.message;
        }
    );
    return false;
}
function practice3Work(){
    var str = document.getElementById("valPractice3").value;
    //setTimeout(practice3Work,3000);
    return new Promise((resolve,reject)=>{
        let successMessage={
            status:'Success',
            message : 'Entered value is String<br>' + ReverseString(str)
        };
        let errorMessage = {
            status : 'Error',
            message : 'Entered value is not string'
        };
        if(typeof(str) !== "string" || str === ""){
            setTimeout(()=>reject(errorMessage),500);
        }
        else{
            setTimeout(()=>resolve(successMessage),500);
        }
    })
}
function ReverseString(str) { 
  
    // Check input 
    if(str.length < 2 ) { 
        return 'Enter string more than length : 1';  
    } 
      
    // Take empty array revArray 
    const reverseArray = []; 
    const length = str.length - 1; 
      
    // Looping from the end 
    for(let i = length; i >= 0; i--) { 
        reverseArray.push(str[i]); 
    } 
      
    // Joining the array elements 
    return `Reversed String : ${reverseArray.join('')}`; 
}
    </script>
    </body>
</html>