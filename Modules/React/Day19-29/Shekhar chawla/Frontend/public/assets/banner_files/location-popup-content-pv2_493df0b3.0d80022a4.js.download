(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["location-popup-content-pv2~493df0b3"],{"1IEA":function(e,t,a){"use strict";a.r(t);var i=a("r0ML"),o=a.n(i),s=a("qtOx"),r=a.n(s),n=a("5ZHn"),c=a("/gSE"),l=a.n(c),u=a("cZ/N"),h=a("OEA+"),p=a("O8A+"),m=a("v0uu"),d=a("uZ4X"),y=a("+km1"),C=a("Giv3"),f={placeholder:"Type your city",setClearButton:!0,isActive:!0,platform:y.a.MOBILE};class CityAutocomplete_CityAutocomplete extends o.a.Component{constructor(e){super(e),r()(this,"UNSAFE_componentWillReceiveProps",e=>{this.props.cityLocation.cityId===e.cityLocation.cityId&&e.isActive||this.setState({input:e.cityLocation.cityName.trim()===C.e?"":e.cityLocation.cityName})}),r()(this,"clearBlurTimmer",()=>{this.blurTimer&&clearTimeout(this.blurTimer)}),r()(this,"handleChange",e=>{var{onChange:t}=this.props,{value:a}=e.target;this.setState({input:a,isFetching:!0}),this.fetchCities(a),t&&t(e)}),r()(this,"fetchCities",e=>{if(e){var{platform:t}=this.props;this.apiRequest&&this.apiRequest.cancel();var a=Object(p.b)(Object(h.a)({url:m.x,source:t.id,resultCount:5},e));a.promise.then(e=>this.afterFetch(e)).catch(e=>{var{isCanceled:t}=e;l()(e,["isCanceled"])}),this.apiRequest=a}else this.setState({cityList:[],isFetching:!1})}),r()(this,"afterFetch",e=>{this.state.input&&e&&this.setState({cityList:e.map(e=>({result:e.result,payload:JSON.stringify(e.payload)})),isFetching:!1})}),r()(this,"handleBlur",()=>{this.blurTimer=setTimeout(()=>{this.isUnsafe||this.setState({isMenuShown:!1})},250)}),r()(this,"handleFocus",()=>{this.clearBlurTimmer(),this.setState({isMenuShown:!0});var{onFocus:e}=this.props;e&&e()}),r()(this,"handleClear",()=>{var{clearSelection:e,onClear:t}=this.props;this.setState({input:"",cityList:[]}),e&&e(),t&&t()}),r()(this,"handleSuggestionClick",e=>{var{setCity:t}=this.props;if(!e.currentTarget.dataset.payload)return null;var{cityId:a,cityName:i,cityMaskingName:o}=JSON.parse(e.currentTarget.dataset.payload),s={cityId:a,cityName:i,cityMaskingName:o};this.setState({input:i}),t(s)}),this.apiRequest=null,this.state={input:e.cityLocation.cityName.trim()===C.e?"":e.cityLocation.cityName,cityList:[],isFetching:!1,isMenuShown:!0},this.fetchCities=Object(u.throttle)(500,this.fetchCities)}componentWillUnmount(){this.clearBlurTimmer(),this.isUnsafe=!0,this.apiRequest&&this.apiRequest.cancel()}render(){var{cityList:e,input:t,isFetching:a,isMenuShown:i}=this.state,{inputRef:s,setClearButton:r,setFocus:n,placeholder:c}=this.props;return o.a.createElement(d.a,{inputRef:s,clearButton:r,label:"Clear",isFocused:n,isLoading:a&&!!t,isMenuShown:i&&e&&e.length>0,labelKey:"result",maxHeight:"300px",onChange:this.handleChange,onClear:this.handleClear,onClick:this.handleSuggestionClick,onFocus:this.handleFocus,onBlur:this.handleBlur,placeholder:c,results:e,text:t})}}CityAutocomplete_CityAutocomplete.defaultProps=f;var b=CityAutocomplete_CityAutocomplete,g={placeholder:"Type your area",setClearButton:!0,platform:y.a.MOBILE};class AreaAutocomplete_AreaAutocomplete extends o.a.Component{constructor(e){super(e),r()(this,"UNSAFE_componentWillReceiveProps",e=>{this.props.cityLocation.areaId!==e.cityLocation.areaId&&this.setState({input:this.getAreaName(e.cityLocation.areaName)})}),r()(this,"getAreaName",e=>e&&e.trim()!==C.c?e:""),r()(this,"handleKeyDown",(e,t)=>{if(t){var{removeCity:a}=this.props;a&&a()}}),r()(this,"handleChange",e=>{var{onChange:t}=this.props,{value:a}=e.target;this.setState({input:a,isFetching:!0}),this.fetchAreas(a),t&&t(e)}),r()(this,"fetchAreas",e=>{if(e){var{platform:t}=this.props;this.apiRequest&&this.apiRequest.cancel();var a=Object(p.b)(Object(h.a)({url:m.j,source:t.id,resultCount:5,cityId:this.props.cityLocation.cityId},e));a.promise.then(e=>this.afterFetch(e)).catch(e=>{var{isCanceled:t}=e;l()(e,["isCanceled"])}),this.apiRequest=a}else this.setState({isFetching:!1,areaList:[]})}),r()(this,"afterFetch",e=>{this.state.input&&e&&this.setState({areaList:e.map(e=>({result:e.result,payload:JSON.stringify(e.payload)})),isFetching:!1})}),r()(this,"handleClear",()=>{var{clearSelection:e,onClear:t}=this.props;this.setState({input:"",areaList:[]}),e&&e(),t&&t()}),r()(this,"handleBlur",()=>{this.blurTimer=setTimeout(()=>{this.isUnsafe||this.setState({isMenuShown:!1})},250)}),r()(this,"clearBlurTimmer",()=>{this.blurTimer&&clearTimeout(this.blurTimer)}),r()(this,"clearFocusTimmer",()=>{this.focusTimer&&clearTimeout(this.focusTimer)}),r()(this,"handleFocus",()=>{this.clearBlurTimmer(),this.focusTimer=setTimeout(()=>{this.isUnsafe||this.setState({isMenuShown:!0})},250);var{onFocus:e}=this.props;e&&e()}),r()(this,"handleSuggestionClick",e=>{var{setArea:t}=this.props;if(!e.currentTarget.dataset.payload)return null;var{areaId:a,areaName:i,areaMaskingName:o,cityMaskingName:s}=JSON.parse(e.currentTarget.dataset.payload),r={areaId:a,areaName:i,areaMaskingName:o,cityMaskingName:s};this.setState({input:i}),t(r)}),this.apiRequest=null,this.state={input:this.getAreaName(e.cityLocation.areaName),areaList:[],isFetching:!1,isMenuShown:!0},this.fetchAreas=Object(u.throttle)(500,this.fetchAreas)}componentWillUnmount(){this.clearBlurTimmer(),this.clearFocusTimmer(),this.isUnsafe=!0,this.apiRequest&&this.apiRequest.cancel()}render(){var{areaList:e,input:t,isFetching:a,isMenuShown:i}=this.state,{cityId:s,cityName:r}=this.props.cityLocation,n=[{text:r,handleClick:this.props.removeCity,isBodyClickable:!1}],{inputRef:c,setClearButton:l,setFocus:u,placeholder:h}=this.props;return o.a.createElement(d.a,{inputRef:c,multiple:!0,clearButton:l,label:"Clear",isFocused:u,isLoading:a&&!!t,isMenuShown:i&&e&&e.length>0,labelKey:"result",maxHeight:"300px",onChange:this.handleChange,onClear:this.handleClear,onClick:this.handleSuggestionClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,placeholder:h,results:e,selected:n,text:t})}}AreaAutocomplete_AreaAutocomplete.defaultProps=g;var v=AreaAutocomplete_AreaAutocomplete,L=a("bhxT"),A={focus:!0,gaTrackingLabel:"",citiesWithArea:[],platform:y.a.MOBILE};class LocationSelection_LocationSelection extends o.a.Component{constructor(e){super(e),r()(this,"handleCityInputFocus",()=>{Object(L.b)("GlobalCityPopUp","Tap_City_Box",this.props.gaTrackingLabel)}),r()(this,"handleAreaInputFocus",()=>{var{cityName:e}=this.props.cityLocation,{gaTrackingLabel:t}=this.props;Object(L.b)("GlobalCityPopUp","Tap_Area_Box",e+(t||""))}),r()(this,"renderInput",()=>{var{cityLocation:e,citiesWithArea:t,setClearButton:a,focus:i,onCityRemove:s,setCity:r,setArea:n,inputRef:c,onClear:l,platform:u}=this.props,{cityId:h=-1,areaId:p=-1}=e;return h<=0?o.a.createElement(b,{inputRef:c,cityLocation:e,setCity:r,platform:u,setClearButton:a,onFocus:this.handleCityInputFocus,setFocus:i,onClear:l}):p<=0&&t.indexOf(h)>-1?o.a.createElement(v,{platform:u,inputRef:c,cityLocation:e,removeCity:s,setArea:n,setClearButton:a,onFocus:this.handleAreaInputFocus,setFocus:i,onClear:l}):null}),r()(this,"renderSelectedTags",()=>{var{onCityRemove:e,onAreaRemove:t,cityLocation:a}=this.props,{cityName:i,areaId:s=-1,areaName:r}=a,c=[{text:i,handleClick:e}];return s>0&&c.push({text:r,handleClick:t}),o.a.createElement(n.a,{hasCloseButton:!0,hasInput:!1,selected:c})})}render(){var{citiesWithArea:e,cityLocation:t}=this.props,{cityId:a=-1,areaId:i=-1}=t;return a<=0||i<=0&&e.indexOf(a)>-1?this.renderInput():this.renderSelectedTags()}}LocationSelection_LocationSelection.defaultProps=A;var x=LocationSelection_LocationSelection;t.default=function LocationPopupHead(e){var{platform:t,setCity:a,cityLocation:i,setClearButton:s,onClear:r,setFocus:n,onCityRemove:c,onAreaRemove:l,citiesWithArea:u,isActive:h,gaTrackingLabel:p,handleAreaSelection:m}=e;return o.a.createElement(x,{platform:t,setCity:a,cityLocation:i,setClearButton:s,onClear:r,setFocus:n,setArea:m,onCityRemove:c,onAreaRemove:l,citiesWithArea:u,isActive:h,gaTrackingLabel:p})}},"C/HY":function(e,t,a){"use strict";var i=a("r0ML"),o=a.n(i);class OxygenLoader extends o.a.Component{constructor(e){super(e)}render(){var{containerHeight:e}=this.props;return o.a.createElement("div",{className:"oxygen-loader",style:{height:e}},o.a.createElement("div",{className:"oxygen-loader-container"},o.a.createElement("div",{className:"oxygen-loader-wrapper"},o.a.createElement("div",{className:"bubble-wrapper bubble-wrap-1"},o.a.createElement("div",{className:"oxygen-bubble bubble-last"}),o.a.createElement("div",{className:"oxygen-bubble bubble-middle"})),o.a.createElement("div",{className:"bubble-wrapper bubble-wrap-2"},o.a.createElement("div",{className:"oxygen-bubble bubble-middle"}),o.a.createElement("div",{className:"oxygen-bubble bubble-last"})))))}}OxygenLoader.defaultProps={containerHeight:"100px"},t.a=OxygenLoader},"Jjt/":function(e,t,a){"use strict";var i=a("daqd"),o=a.n(i),s=a("/gSE"),r=a.n(s),n=a("r0ML"),c=a.n(n),l=(a("cNRa"),a("6Eqk")),SvgDetectLocation=e=>{var{title:t,titleId:a}=e,i=r()(e,["title","titleId"]);return c.a.createElement(l.a,o()({viewBox:"0 0 16 16",fill:"currentcolor"},i),!!t&&c.a.createElement("title",{id:a},t),c.a.createElement("path",{d:"M15.43 7.5H14A6 6 0 008.5 2V.57a.5.5 0 00-1 0V2A6 6 0 002 7.5H.57a.5.5 0 000 1H2A6 6 0 007.5 14v1.46a.5.5 0 001 0V14A6 6 0 0014 8.5h1.46a.5.5 0 000-1zM8 13a5 5 0 115-5 5 5 0 01-5 5zm0-8a3 3 0 11-3 3 3 3 0 013-3z"}))};SvgDetectLocation.isIcon=!0,SvgDetectLocation.propTypes={},SvgDetectLocation.defaultProps={size:"md",tabIndex:-1,focusable:!1,"aria-hidden":!0,role:"img",className:"",lazyLoad:!0,threshold:0,rootMargin:"48px"},SvgDetectLocation.displayName="Icon",t.a=SvgDetectLocation},"OEA+":function(e,t,a){"use strict";a.d(t,"a",(function(){return autocomplete}));var i=a("YYDP"),autocomplete=(e,t)=>{var a=e.url,i="";return i+=getValue("term",t),i+=getValue("record",e.resultCount),i+=getValue("cityId",e.cityId),i+=getValue("sourceId",e.source),createUrl(i,a)},createUrl=(e,t)=>(e&&(t+="?"+(e=e.slice(0,-1))),i.a.fetchApi({url:t,requestInit:{headers:{Accept:"application/json"}}})),getValue=(e,t)=>t?e+"="+t+"&":""},"V+KU":function(e,t){e.exports={detectMyLocationContainer:"_1W2Jm8",detectMyLocation:"mPeAu1"},e.exports.__css__=["._1W2Jm8{max-width:488px}",".mPeAu1{max-width:180px}"],e.exports.__id__="_1xhjxrx4hD"},uwOe:function(e,t){e.exports={imageContainer:"_18WVxL",cityContainer:"f-gxxq"},e.exports.__css__=["._18WVxL{width:88px;height:50px}",".f-gxxq{width:33.33%}","@media screen and (min-width:800px){.f-gxxq{width:20%}}"],e.exports.__id__="_3xvmJ3LzjF"},xnIy:function(e,t,a){"use strict";function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){m()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.r(t);var i=a("fFLJ"),o=a("9lrx"),s=a("Jjt/"),r=(a("FX6n"),a("5Qo7")),n=a("C/HY"),c=a("+km1"),l=a("Tp01"),u=a("r0ML"),h=a.n(u),p=(a("tUR9"),a("NZyX"),a("qtOx")),m=a.n(p),d=a("6JgO"),y=a("Giv3"),C=a("bhxT"),f=a("uwOe"),b=a.n(f),City=e=>{var{city:t={},onCityClick:a}=e,{cityName:i,imagePath:o}=t;return i&&o?h.a.createElement(r.c,{className:"".concat("o-efHQCX o-dsiSgT o-fznVCs o-fstDWG"," ").concat(b.a.cityContainer),onClick:()=>{Object(C.b)("AreaLocation","PopularCity Click",t.cityName),a(_objectSpread(_objectSpread({},t),{},{areaId:y.b,areaName:y.c}))}},h.a.createElement("div",{className:"".concat("o-frwuxB"," ").concat(b.a.imageContainer)},h.a.createElement(d.a,{src:o,description:i,aspectRatio:"16:9"})),h.a.createElement("span",{className:"o-fzpihx o-eemiLE"},i)):null},g=Object(u.memo)((function PopularCities(e){var{cities:t,onCityClick:a}=e;return t&&t.length?h.a.createElement("div",{className:"o-fzoHFO o-bhAUUu o-fzoHCA o-lFqgA o-fzpilm o-bjRfrx"},h.a.createElement(i.a,{style:b.a}),h.a.createElement("span",{className:"o-dJmcbh o-eqqVmt o-jjpuv o-fznVCs o-evuuYC o-fznVry o-fghAqs"},"Popular Cities"),h.a.createElement(r.c,{className:"o-NBTwp o-XylGE"},t.map(e=>h.a.createElement(City,{city:e,onCityClick:a,key:e.cityId})))):null}));g.displayName="PopularCities";var v=a("V+KU"),L=a.n(v),A="o-fzokfJ o-fzokoz o-cohPRA o-cohQay o-fznJDS o-ckGLSv o-biwSqu o-efHQCX o-bfyaNx o-bUVylL o-dMmXZk o-bklwfk ".concat(L.a.detectMyLocationContainer,""),x="o-dsiSgT o-frwuxB o-elzeOy ".concat(L.a.detectMyLocation,"");t.default=function LocationPopupBody(e){var{handleCitySelection:t,onSelection:a,onConfirmClick:p,isConfirmButtonVisible:m,autoDetect:d,onAutoDetectClick:y,confirmButtonDisabled:C,confirmButtonColor:f,confirmButtonVariant:b,platform:v,popularCities:S,children:N}=e,O=Object(u.useCallback)(()=>{p&&p(),a&&a()},[p,a]);return h.a.createElement(h.a.Fragment,null,h.a.createElement(i.a,{style:L.a}),h.a.createElement(r.c,{className:A},d&&h.a.createElement(r.c,{className:x,onClick:y},h.a.createElement(s.a,{size:"md"}),h.a.createElement("div",{className:"o-fzpimR o-jjpuv"},"Detect my location")),m&&h.a.createElement(o.a,{onClick:O,disabled:C,color:f,variant:b,size:v.id===c.a.DESKTOP.id?"sm":"md",className:"o-fzqDuP o-daXxmY o-cohPRA o-chNNuk o-cohQay o-cPFhqO"},"Confirm")),N,Object(l.H)(S)?h.a.createElement(g,{cities:S,onCityClick:t}):h.a.createElement(n.a,null))}}}]);
//# sourceMappingURL=location-popup-content-pv2~493df0b3.0d80022a4.js.map