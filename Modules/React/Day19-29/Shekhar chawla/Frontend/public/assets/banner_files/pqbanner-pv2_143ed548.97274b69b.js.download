(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["pqbanner-pv2~143ed548"],{"4GKJ":function(e,t){e.exports={background:"_2m0MfG"},e.exports.__css__=["@media screen and (min-width:800px){._2m0MfG{background-color:rgba(0,0,0,.5)}}"],e.exports.__id__="_3AeBoTUxzC"},"7Jze":function(e,t,s){"use strict";s.r(t);s("Krug");var a=s("qtOx"),i=s.n(a),l=s("uZ4X"),n=(s("FX6n"),s("fFLJ")),o=s("5Qo7"),c=s("+km1"),r=s("O8A+"),h=s("Wv1p"),d=s("r0ML"),u=s.n(d),p=s("lkLo"),m=s("uTCC"),C=s("+hZD"),b=s("cZ/N"),g=s("AiS4"),k=s("4GKJ"),_=s.n(k),f=s("/KN+"),v=s("bhxT");class PQSearchWidget extends u.a.PureComponent{constructor(e){super(e),i()(this,"componentDidMount",()=>{window.addEventListener("click",this.handleWindowClick)}),i()(this,"handleWindowClick",()=>{this.state.results.length&&this.setState({results:[]})}),i()(this,"handleAutoCompleteInputChange",e=>{var t=e.target.value.trimLeft();this.setState({text:t}),this.fetchResults(t)}),i()(this,"fetchResults",e=>{if(this.apiPromise&&this.apiPromise.cancel(),!e)return this.setState({results:[]}),void(this.apiPromise=null);this.apiPromise=Object(r.b)(m.a.fetchAutoCompletResults({query:e,suggestionTypes:g.j,platformId:c.a.MOBILE.id})),this.apiPromise.promise.then(this.handleApiSuccess).catch(this.handleApiFailure)}),i()(this,"handleApiSuccess",e=>{var t=[];e&&e.length&&e.forEach(e=>{e&&e.displayName&&e.suggestionType&&t.push(Object(C.c)(e))}),this.setState({results:t})}),i()(this,"handleApiFailure",e=>{this.setState({results:[]}),e.isCanceled}),i()(this,"handleResultClick",e=>{var t=e.currentTarget,s=t.dataset.label;this.setState({selectedText:s,text:s,results:[]}),Object(v.b)("PQWidget","Select-Car-Autosuggest-Success",s);var a=Object(h.G)(t.dataset.makemaskingname,t.dataset.modelmaskingname),{cityId:i}=this.props;i>0&&a?this.props.history.push(a):this.url=a}),i()(this,"handleClearClick",()=>{this.setState({results:[],selectedText:"",text:""}),this.url=""}),i()(this,"handleOpenLocationPopup",()=>{var{openLocationPopup:e}=this.props;this.url&&e(this.url)}),this.state={text:"",selectedText:"",results:[]},this.url="",this.fetchResults=Object(b.debounce)(200,this.fetchResults)}componentWillUnmount(){window.removeEventListener("click",this.handleWindowClick)}render(){var{cityId:e,pQPlaceHolder:t}=this.props,{text:s,selectedText:a,results:i}=this.state,{adHtml:c}=t||{};return u.a.createElement("div",{className:"".concat("o-AxgTO o-bfeXmc o-dNhQyk"," ").concat(_.a.background)},u.a.createElement(n.a,{style:_.a}),u.a.createElement("h2",{className:"o-casNrQ o-Hyyko o-bPYcRG o-eqqVmt"},"Check On-Road Price"),u.a.createElement("div",{className:"o-fznJzb o-cVfYDK o-cOktWz"},u.a.createElement(l.a,{text:s,className:"o-cjsCNH",labelKey:"label",onChange:this.handleAutoCompleteInputChange,selected:a,results:i,onClick:this.handleResultClick,isMenuShown:i&&i.length>0,onClear:this.handleClearClick,clearButton:void 0!==a&&a.length>0,inputIcon:"search",placeholder:c||g.i})),e<0&&u.a.createElement(o.c,{className:"o-fznJzb o-dzBWbY o-fznJDS o-fznJFI o-bCRRBE o-cOktWz o-bzsJdq o-eKWNKE o-dsiSgT o-bUVylL",onClick:this.handleOpenLocationPopup},u.a.createElement("div",{className:"o-jjpuv"},"Select City"),u.a.createElement(f.a,{size:"xsm",className:"o-cpNAVm"})),u.a.createElement("div",{className:"o-fznJzb o-eemiLE o-casNrQ"},"Its private, no need to share your number and email"))}}t.default=Object(p.j)(PQSearchWidget)}}]);
//# sourceMappingURL=pqbanner-pv2~143ed548.97274b69b.js.map